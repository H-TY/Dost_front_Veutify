import{c as ie,d as W}from"./VCheckboxBtn-CAm5W8wT.js";import{p as J,az as K,aA as se,q as Y,S as Z,b3 as p,aC as re,I as w,s as ee,aD as te,aE as R,e as n,W as C,b4 as ce,b5 as de,r as b,H as fe,X as ve,P as me,O as y,Q as xe,b6 as he,b7 as ge,F as O,b8 as X,b9 as Ve,ba as be,bb as ye,bc as we,an as $,bd as Ce,L as Pe,N as ke}from"./index-DqTNIFwe.js";const Fe=J({...K(),...se(ie(),["inline"])},"VCheckbox"),Ae=Y()({name:"VCheckbox",inheritAttrs:!1,props:Fe(),emits:{"update:modelValue":e=>!0,"update:focused":e=>!0},setup(e,S){let{attrs:h,slots:g}=S;const a=Z(e,"modelValue"),{isFocused:o,focus:c,blur:A}=p(e),B=re(),H=w(()=>e.id||`checkbox-${B}`);return ee(()=>{const[M,N]=te(h),P=R.filterProps(e),d=W.filterProps(e);return n(R,C({class:["v-checkbox",e.class]},M,P,{modelValue:a.value,"onUpdate:modelValue":f=>a.value=f,id:H.value,focused:o.value,style:e.style}),{...g,default:f=>{let{id:v,messagesId:z,isDisabled:V,isReadonly:U,isValid:D}=f;return n(W,C(d,{id:v.value,"aria-describedby":z.value,disabled:V.value,readonly:U.value},N,{error:D.value===!1,modelValue:a.value,"onUpdate:modelValue":T=>a.value=T,onFocus:c,onBlur:A}),g)}})}),{}}}),Ie=J({autoGrow:Boolean,autofocus:Boolean,counter:[Boolean,Number,String],counterValue:Function,prefix:String,placeholder:String,persistentPlaceholder:Boolean,persistentCounter:Boolean,noResize:Boolean,rows:{type:[Number,String],default:5,validator:e=>!isNaN(parseFloat(e))},maxRows:{type:[Number,String],validator:e=>!isNaN(parseFloat(e))},suffix:String,modelModifiers:Object,...K(),...ce()},"VTextarea"),Be=Y()({name:"VTextarea",directives:{Intersect:de},inheritAttrs:!1,props:Ie(),emits:{"click:control":e=>!0,"mousedown:control":e=>!0,"update:focused":e=>!0,"update:modelValue":e=>!0},setup(e,S){let{attrs:h,emit:g,slots:a}=S;const o=Z(e,"modelValue"),{isFocused:c,focus:A,blur:B}=p(e),H=w(()=>typeof e.counterValue=="function"?e.counterValue(o.value):(o.value||"").toString().length),M=w(()=>{if(h.maxlength)return h.maxlength;if(!(!e.counter||typeof e.counter!="number"&&typeof e.counter!="string"))return e.counter});function N(t,u){var l,i;!e.autofocus||!t||(i=(l=u[0].target)==null?void 0:l.focus)==null||i.call(l)}const P=b(),d=b(),f=fe(""),v=b(),z=w(()=>e.persistentPlaceholder||c.value||e.active);function V(){var t;v.value!==document.activeElement&&((t=v.value)==null||t.focus()),c.value||A()}function U(t){V(),g("click:control",t)}function D(t){g("mousedown:control",t)}function T(t){t.stopPropagation(),V(),$(()=>{o.value="",Ce(e["onClick:clear"],t)})}function ae(t){var l;const u=t.target;if(o.value=u.value,(l=e.modelModifiers)!=null&&l.trim){const i=[u.selectionStart,u.selectionEnd];$(()=>{u.selectionStart=i[0],u.selectionEnd=i[1]})}}const m=b(),k=b(+e.rows),_=w(()=>["plain","underlined"].includes(e.variant));ve(()=>{e.autoGrow||(k.value=+e.rows)});function x(){e.autoGrow&&$(()=>{if(!m.value||!d.value)return;const t=getComputedStyle(m.value),u=getComputedStyle(d.value.$el),l=parseFloat(t.getPropertyValue("--v-field-padding-top"))+parseFloat(t.getPropertyValue("--v-input-padding-top"))+parseFloat(t.getPropertyValue("--v-field-padding-bottom")),i=m.value.scrollHeight,F=parseFloat(t.lineHeight),E=Math.max(parseFloat(e.rows)*F+l,parseFloat(u.getPropertyValue("--v-input-control-height"))),G=parseFloat(e.maxRows)*F+l||1/0,r=ke(i??0,E,G);k.value=Math.floor((r-l)/F),f.value=Pe(r)})}me(x),y(o,x),y(()=>e.rows,x),y(()=>e.maxRows,x),y(()=>e.density,x);let s;return y(m,t=>{t?(s=new ResizeObserver(x),s.observe(m.value)):s==null||s.disconnect()}),xe(()=>{s==null||s.disconnect()}),ee(()=>{const t=!!(a.counter||e.counter||e.counterValue),u=!!(t||a.details),[l,i]=te(h),{modelValue:F,...E}=R.filterProps(e),G=he(e);return n(R,C({ref:P,modelValue:o.value,"onUpdate:modelValue":r=>o.value=r,class:["v-textarea v-text-field",{"v-textarea--prefixed":e.prefix,"v-textarea--suffixed":e.suffix,"v-text-field--prefixed":e.prefix,"v-text-field--suffixed":e.suffix,"v-textarea--auto-grow":e.autoGrow,"v-textarea--no-resize":e.noResize||e.autoGrow,"v-input--plain-underlined":_.value},e.class],style:e.style},l,E,{centerAffix:k.value===1&&!_.value,focused:c.value}),{...a,default:r=>{let{id:I,isDisabled:j,isDirty:q,isReadonly:le,isValid:ne}=r;return n(ge,C({ref:d,style:{"--v-textarea-control-height":f.value},onClick:U,onMousedown:D,"onClick:clear":T,"onClick:prependInner":e["onClick:prependInner"],"onClick:appendInner":e["onClick:appendInner"]},G,{id:I.value,active:z.value||q.value,centerAffix:k.value===1&&!_.value,dirty:q.value||e.dirty,disabled:j.value,focused:c.value,error:ne.value===!1}),{...a,default:oe=>{let{props:{class:L,...Q}}=oe;return n(O,null,[e.prefix&&n("span",{class:"v-text-field__prefix"},[e.prefix]),X(n("textarea",C({ref:v,class:L,value:o.value,onInput:ae,autofocus:e.autofocus,readonly:le.value,disabled:j.value,placeholder:e.placeholder,rows:e.rows,name:e.name,onFocus:V,onBlur:B},Q,i),null),[[Ve("intersect"),{handler:N},null,{once:!0}]]),e.autoGrow&&X(n("textarea",{class:[L,"v-textarea__sizer"],id:`${Q.id}-sizer`,"onUpdate:modelValue":ue=>o.value=ue,ref:m,readonly:!0,"aria-hidden":"true"},null),[[be,o.value]]),e.suffix&&n("span",{class:"v-text-field__suffix"},[e.suffix])])}})},details:u?r=>{var I;return n(O,null,[(I=a.details)==null?void 0:I.call(a,r),t&&n(O,null,[n("span",null,null),n(ye,{active:e.persistentCounter||c.value,value:H.value,max:M.value,disabled:e.disabled},a.counter)])])}:void 0})}),we({},P,d,v)}});export{Ae as V,Be as a};
