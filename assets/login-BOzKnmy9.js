import{_ as w,R as S,T as F,o as k,W as y,w as t,a as s,$ as U,U as e,aF as d,P as B,a0 as I,S as C,b4 as M,b5 as N,ag as V}from"./index-BeUQFjP5.js";import{c as P,a as m,u as R,f as p,V as T}from"./vee-validate.esm-KevpO-rl.js";import{v as $}from"./index-Bw-gk0iq.js";import{a as g,V as q}from"./VRow-uWmG4DVT.js";import{V as D}from"./VDivider-CEtPk7m6.js";import{V as A}from"./VContainer-CctDpTPI.js";const _=o=>(M("data-v-786c917c"),o=o(),N(),o),W=_(()=>V("h1",{class:"text-spacing1"},"登入",-1)),j=_(()=>V("h4",{class:"text-spacing2"},"與狗狗歡度快樂時刻",-1)),z={__name:"login",setup(o){const f=C(),v=S(),u=F(),x=P({account:m().required("使用者帳號必填").min(4,"使用者帳號文字最少 4 個字").max(20,"使用者帳號文字最多 20 個字").test("驗證 account","使用者帳號格式錯誤",r=>$.isAlphanumeric(r)),password:m().required("密碼必填").min(4,"使用者密碼最少 4 個字").max(20,"使用者密碼最多 20 個字")}),{handleSubmit:b,isSubmitting:i}=R({validationSchema:x}),l=p("account"),n=p("password"),h=b(async r=>{const a=await v.login(r);if(a==="登入成功")return u({text:a,snackbarProps:{color:"green"}}),f.push("/");u({text:a,snackbarProps:{color:"red"}})});return(r,a)=>(k(),y(A,{class:"w-75"},{default:t(()=>[s(q,null,{default:t(()=>[s(g,{class:"text-center",cols:"12"},{default:t(()=>[W,j]),_:1}),s(D,{class:"py-2"}),s(g,null,{default:t(()=>[s(T,{class:"text-center",onSubmit:U(e(h),["prevent"]),disabled:e(i)},{default:t(()=>[s(d,{type:"account",label:"帳號",minlength:"4",maxlength:"20",counter:"",modelValue:e(l).value.value,"onUpdate:modelValue":a[0]||(a[0]=c=>e(l).value.value=c),"error-messages":e(l).errorMessage.value},null,8,["modelValue","error-messages"]),s(d,{type:"password",label:"密碼",minlength:"4",maxlength:"20",counter:"",modelValue:e(n).value.value,"onUpdate:modelValue":a[1]||(a[1]=c=>e(n).value.value=c),"error-messages":e(n).errorMessage.value},null,8,["modelValue","error-messages"]),s(B,{class:"w-25",type:"submit",color:"green",loading:e(i)},{default:t(()=>[I("登入")]),_:1},8,["loading"])]),_:1},8,["onSubmit","disabled"])]),_:1})]),_:1})]),_:1}))}},O=w(z,[["__scopeId","data-v-786c917c"]]);export{O as default};
