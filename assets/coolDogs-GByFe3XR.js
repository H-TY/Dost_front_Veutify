import{i as g,u as f,r as l,o as r,d as u,e as i,w as h,Z as d,F as v,h as V,j as P,W as k,au as b}from"./index-flPRigKX.js";import{_ as x}from"./dogsCard-Cfv6xeWU.js";import{V as y}from"./VPagination-CyXYGOis.js";import{V as A}from"./VContainer-D1WJo91_.js";import"./VDivider-HjvlQjxz.js";const B={id:"cool-dogs",class:"cool-dogs"},E={class:"content"},w={class:"card-box"},p=6,G={__name:"coolDogs",setup(C){const{backApi:m,apiAuth:D}=b(),_=g();f();const s=l(1),c=l(1),t=l([]),n=async()=>{var o,a;try{const{data:e}=await m.get("/dogs",{params:{itemsPerPage:p,page:s.value}});c.value=Math.ceil(e.result.total/p),t.value.splice(0,t.value.length,...e.result.data)}catch(e){console.log(e),_({text:((a=(o=e==null?void 0:e.response)==null?void 0:o.data)==null?void 0:a.message)||"發生錯誤",snackbarProps:{color:"red"}})}};return n(),(o,a)=>(r(),u("section",B,[i(A,null,{default:h(()=>[d("div",E,[d("div",w,[(r(!0),u(v,null,V(t.value,e=>(r(),P(x,k({key:e._id,ref_for:!0},e),null,16))),128))]),i(y,{class:"number-pages",modelValue:s.value,"onUpdate:modelValue":[a[0]||(a[0]=e=>s.value=e),n],length:c.value,rounded:"circle"},null,8,["modelValue","length"])])]),_:1})]))}};export{G as default};
