import{i as x,a as b,r as c,o as d,j as p,w as e,e as a,k as v,a2 as u,a5 as B,aJ as T,d as C,g as w,F as I,aI as N,a8 as S,a3 as A,aQ as D}from"./index-CJxWybx8.js";import{b as g}from"./route-block-B_A1xBdJ.js";import{V as f}from"./VCol-XXgwFep7.js";import{V as k}from"./VRow-CaLyweUP.js";import{r as L}from"./VDataTable-ZJXwEqUL.js";import{a as F,V as j}from"./VList-FUvkB6vJ.js";import{V as P}from"./VContainer-CL8ww1Zu.js";import"./VPagination-CsaOKLlS.js";import"./VCheckboxBtn-D230jcZU.js";import"./VDivider-BbeXBr5r.js";const U=S("h1",null,"預約管理",-1),E={__name:"manageBooking",setup(J){const{apiAuth:V}=D(),_=x(),y=b();c(y.account);const o=c(""),r=c([]),h=[{align:"center",title:"訂單編號",key:"_id"},{align:"center",title:"下單日期",key:"createdAt",value:l=>new Date(l.createdAt).toLocaleString()},{align:"center",title:"帳號名稱",key:"accountName"},{align:"center",title:"預約人",key:"name"},{align:"center",title:"電話",key:"phone"},{align:"center",title:"預約狗狗",key:"dogName"},{align:"center",title:"預約日期",key:"bookingDate"},{align:"center",title:"預約時段",key:"bookingTime"},{align:"center",title:"預約總時數",key:"totalBookingTime"},{align:"center",title:"預約總金額",key:"totalPrice"}],m=async()=>{var l,n;try{const{data:t}=await V.get("/order");r.value.splice(0,r.value.length,...t.result.data)}catch(t){console.log(t),_({text:((n=(l=t==null?void 0:t.response)==null?void 0:l.data)==null?void 0:n.message)||"發生錯誤",snackbarProps:{color:"red"}})}};return m(),(l,n)=>(d(),p(P,{fluid:""},{default:e(()=>[a(k,{class:"text-center"},{default:e(()=>[a(f,null,{default:e(()=>[U]),_:1})]),_:1}),a(k,{class:"text-center"},{default:e(()=>[a(f,null,{default:e(()=>[a(v,{class:"d-inline-flex pa-4",color:"green",onClick:m},{default:e(()=>[u("查詢預約")]),_:1})]),_:1})]),_:1}),a(N,{class:"mt-8",flat:""},{text:e(()=>[a(B,{modelValue:o.value,"onUpdate:modelValue":n[0]||(n[0]=t=>o.value=t),label:"Search","prepend-inner-icon":"mdi-magnify",variant:"outlined","hide-details":"","single-line":""},null,8,["modelValue"])]),default:e(()=>[a(T,null,{default:e(()=>[u("查詢預約資料")]),_:1}),a(L,{headers:h,items:r.value,search:o.value},{"item.bookingTime":e(({value:t})=>[a(F,null,{default:e(()=>[(d(!0),C(I,null,w(t.join(" ").split(",").sort((s,i)=>parseInt(s)-parseInt(i)),(s,i)=>(d(),p(j,{key:i},{default:e(()=>[u(A(s),1)]),_:2},1024))),128))]),_:2},1024)]),_:2},1032,["items","search"])]),_:1})]),_:1}))}};typeof g=="function"&&g(E);export{E as default};
