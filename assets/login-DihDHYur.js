import{_ as w,a as S,i as k,o as y,j as F,w as t,e as s,a1 as B,h as e,a5 as d,k as I,a2 as U,b as C,a6 as M,a7 as N,a8 as g}from"./index-D7W5mdlw.js";import{c as j,a as m,u as q,f as p,V as D}from"./vee-validate.esm-DBjEran-.js";import{v as P}from"./index-CvWOJxXD.js";import{V as f}from"./VCol-fSjupuPI.js";import{V as R}from"./VDivider-umCazi6M.js";import{V as T}from"./VRow-BXNdjYRp.js";import{V as $}from"./VContainer-CKvRTEtg.js";const V=o=>(M("data-v-3813df49"),o=o(),N(),o),A=V(()=>g("h1",{class:"text-spacing1"},"登入",-1)),z=V(()=>g("h4",{class:"text-spacing2"},"與狗狗歡度快樂時刻",-1)),E={__name:"login",setup(o){const _=C(),v=S(),u=k(),x=j({account:m().required("使用者帳號必填").min(4,"使用者帳號文字最少 4 個字").max(20,"使用者帳號文字最多 20 個字").test("驗證 account","使用者帳號格式錯誤",r=>P.isAlphanumeric(r)),password:m().required("密碼必填").min(4,"使用者密碼最少 4 個字").max(20,"使用者密碼最多 20 個字")}),{handleSubmit:b,isSubmitting:i}=q({validationSchema:x}),l=p("account"),n=p("password"),h=b(async r=>{const a=await v.login(r);if(a==="登入成功")return u({text:a,snackbarProps:{color:"green"}}),_.push("/");u({text:a,snackbarProps:{color:"red"}})});return(r,a)=>(y(),F($,{class:"w-75 mt-sm-12 mt-3 mb-7"},{default:t(()=>[s(T,null,{default:t(()=>[s(f,{class:"text-center",cols:"12"},{default:t(()=>[A,z]),_:1}),s(R,{class:"py-2"}),s(f,{class:"d-flex justify-center"},{default:t(()=>[s(D,{class:"text-center w-50",onSubmit:B(e(h),["prevent"]),disabled:e(i)},{default:t(()=>[s(d,{type:"account",label:"帳號",minlength:"4",maxlength:"20",counter:"",modelValue:e(l).value.value,"onUpdate:modelValue":a[0]||(a[0]=c=>e(l).value.value=c),"error-messages":e(l).errorMessage.value},null,8,["modelValue","error-messages"]),s(d,{type:"password",label:"密碼",minlength:"4",maxlength:"20",counter:"",modelValue:e(n).value.value,"onUpdate:modelValue":a[1]||(a[1]=c=>e(n).value.value=c),"error-messages":e(n).errorMessage.value},null,8,["modelValue","error-messages"]),s(I,{class:"w-25",type:"submit",color:"green",loading:e(i)},{default:t(()=>[U("登入")]),_:1},8,["loading"])]),_:1},8,["onSubmit","disabled"])]),_:1})]),_:1})]),_:1}))}},W=w(E,[["__scopeId","data-v-3813df49"]]);export{W as default};
