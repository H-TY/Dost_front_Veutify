import{p as L,m as X,d as Z,g as M,u as R,a as l,e as ae,f as le,h as oe,i as ne,j as se,t as $,k as re,l as ie,n as ue,q as ce,s as de,v as N,x as v,y as ve,V as q,z,A as D,B as fe,C as O,D as ge,E as j,G as me,H as he,I as pe,J as ye,K as be,L as xe,M as ee,N as _e,O as ke,P as k,_ as Ve,Q as we,R as Se,S as Te,T as Be,r as Ie,o as r,c as I,w as o,U as x,W as g,X as G,Y as J,Z as _,$ as Ce,F as C,b as U,a0 as P,a1 as F}from"./index-Cb_YStDn.js";import{V as K,a as H,b as T}from"./VRow-D3u59K1_.js";import{u as Ne,V as Pe,a as He}from"./VList-PclR5rLQ.js";import{V as Le}from"./VDivider-CJG2XaeU.js";import{V as Ae,a as Ee}from"./VNavigationDrawer-CKWBHOf8.js";const De=L({text:String,...X(),...Z()},"VToolbarTitle"),je=M()({name:"VToolbarTitle",props:De(),setup(e,f){let{slots:t}=f;return R(()=>{const m=!!(t.default||t.text||e.text);return l(e.tag,{class:["v-toolbar-title",e.class],style:e.style},{default:()=>{var u;return[m&&l("div",{class:"v-toolbar-title__placeholder"},[t.text?t.text():e.text,(u=t.default)==null?void 0:u.call(t)])]}})}),{}}}),Ue=[null,"prominent","default","comfortable","compact"],te=L({absolute:Boolean,collapse:Boolean,color:String,density:{type:String,default:"default",validator:e=>Ue.includes(e)},extended:Boolean,extensionHeight:{type:[Number,String],default:48},flat:Boolean,floating:Boolean,height:{type:[Number,String],default:64},image:String,title:String,...ae(),...X(),...le(),...oe(),...Z({tag:"header"}),...ne()},"VToolbar"),Q=M()({name:"VToolbar",props:te(),setup(e,f){var b;let{slots:t}=f;const{backgroundColorClasses:m,backgroundColorStyles:u}=se($(e,"color")),{borderClasses:n}=re(e),{elevationClasses:c}=ie(e),{roundedClasses:i}=ue(e),{themeClasses:y}=ce(e),{rtlClasses:w}=de(),d=N(!!(e.extended||(b=t.extension)!=null&&b.call(t))),h=v(()=>parseInt(Number(e.height)+(e.density==="prominent"?Number(e.height):0)-(e.density==="comfortable"?8:0)-(e.density==="compact"?16:0),10)),p=v(()=>d.value?parseInt(Number(e.extensionHeight)+(e.density==="prominent"?Number(e.extensionHeight):0)-(e.density==="comfortable"?4:0)-(e.density==="compact"?8:0),10):0);return ve({VBtn:{variant:"text"}}),R(()=>{var A;const a=!!(e.title||t.title),V=!!(t.image||e.image),B=(A=t.extension)==null?void 0:A.call(t);return d.value=!!(e.extended||B),l(e.tag,{class:["v-toolbar",{"v-toolbar--absolute":e.absolute,"v-toolbar--collapse":e.collapse,"v-toolbar--flat":e.flat,"v-toolbar--floating":e.floating,[`v-toolbar--density-${e.density}`]:!0},m.value,n.value,c.value,i.value,y.value,w.value,e.class],style:[u.value,e.style]},{default:()=>[V&&l("div",{key:"image",class:"v-toolbar__image"},[t.image?l(z,{key:"image-defaults",disabled:!e.image,defaults:{VImg:{cover:!0,src:e.image}}},t.image):l(q,{key:"image-img",cover:!0,src:e.image},null)]),l(z,{defaults:{VTabs:{height:D(h.value)}}},{default:()=>{var E,s,S;return[l("div",{class:"v-toolbar__content",style:{height:D(h.value)}},[t.prepend&&l("div",{class:"v-toolbar__prepend"},[(E=t.prepend)==null?void 0:E.call(t)]),a&&l(je,{key:"title",text:e.title},{text:t.title}),(s=t.default)==null?void 0:s.call(t),t.append&&l("div",{class:"v-toolbar__append"},[(S=t.append)==null?void 0:S.call(t)])])]}}),l(z,{defaults:{VTabs:{height:D(p.value)}}},{default:()=>[l(fe,null,{default:()=>[d.value&&l("div",{class:"v-toolbar__extension",style:{height:D(p.value)}},[B])]})]})]})}),{contentHeight:h,extensionHeight:p}}}),Me=L({scrollTarget:{type:String},scrollThreshold:{type:[String,Number],default:300}},"scroll");function Re(e){let f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{canScroll:t}=f;let m=0,u=0;const n=O(null),c=N(0),i=N(0),y=N(0),w=N(!1),d=N(!1),h=v(()=>Number(e.scrollThreshold)),p=v(()=>ge((h.value-c.value)/h.value||0)),b=()=>{const a=n.value;if(!a||t&&!t.value)return;m=c.value,c.value="window"in a?a.pageYOffset:a.scrollTop;const V=a instanceof Window?document.documentElement.scrollHeight:a.scrollHeight;if(u!==V){u=V;return}d.value=c.value<m,y.value=Math.abs(c.value-h.value)};return j(d,()=>{i.value=i.value||c.value}),j(w,()=>{i.value=0}),me(()=>{j(()=>e.scrollTarget,a=>{var B;const V=a?document.querySelector(a):window;V&&V!==n.value&&((B=n.value)==null||B.removeEventListener("scroll",b),n.value=V,n.value.addEventListener("scroll",b,{passive:!0}))},{immediate:!0})}),he(()=>{var a;(a=n.value)==null||a.removeEventListener("scroll",b)}),t&&j(t,b,{immediate:!0}),{scrollThreshold:h,currentScroll:c,currentThreshold:y,isScrollActive:w,scrollRatio:p,isScrollingUp:d,savedScroll:i}}const ze=L({scrollBehavior:String,modelValue:{type:Boolean,default:!0},location:{type:String,default:"top",validator:e=>["top","bottom"].includes(e)},...te(),...pe(),...Me(),height:{type:[Number,String],default:64}},"VAppBar"),Fe=M()({name:"VAppBar",props:ze(),emits:{"update:modelValue":e=>!0},setup(e,f){let{slots:t}=f;const m=O(),u=ye(e,"modelValue"),n=v(()=>{var S;const s=new Set(((S=e.scrollBehavior)==null?void 0:S.split(" "))??[]);return{hide:s.has("hide"),fullyHide:s.has("fully-hide"),inverted:s.has("inverted"),collapse:s.has("collapse"),elevate:s.has("elevate"),fadeImage:s.has("fade-image")}}),c=v(()=>{const s=n.value;return s.hide||s.fullyHide||s.inverted||s.collapse||s.elevate||s.fadeImage||!u.value}),{currentScroll:i,scrollThreshold:y,isScrollingUp:w,scrollRatio:d}=Re(e,{canScroll:c}),h=v(()=>n.value.hide||n.value.fullyHide),p=v(()=>e.collapse||n.value.collapse&&(n.value.inverted?d.value>0:d.value===0)),b=v(()=>e.flat||n.value.fullyHide&&!u.value||n.value.elevate&&(n.value.inverted?i.value>0:i.value===0)),a=v(()=>n.value.fadeImage?n.value.inverted?1-d.value:d.value:void 0),V=v(()=>{var W,Y;const s=Number(((W=m.value)==null?void 0:W.contentHeight)??e.height),S=Number(((Y=m.value)==null?void 0:Y.extensionHeight)??0);return h.value?i.value<y.value||n.value.fullyHide?s+S:s:s+S});be(v(()=>!!e.scrollBehavior),()=>{_e(()=>{h.value?n.value.inverted?u.value=i.value>y.value:u.value=w.value||i.value<y.value:u.value=!0})});const{ssrBootStyles:B}=Ne(),{layoutItemStyles:A,layoutIsReady:E}=xe({id:e.name,order:v(()=>parseInt(e.order,10)),position:$(e,"location"),layoutSize:V,elementSize:N(void 0),active:u,absolute:$(e,"absolute")});return R(()=>{const s=Q.filterProps(e);return l(Q,ee({ref:m,class:["v-app-bar",{"v-app-bar--bottom":e.location==="bottom"},e.class],style:[{...A.value,"--v-toolbar-image-opacity":a.value,height:void 0,...B.value},e.style]},s,{collapse:p.value,flat:b.value}),t)}),E}}),$e=L({...ke({icon:"$menu",variant:"text"})},"VAppBarNavIcon"),qe=M()({name:"VAppBarNavIcon",props:$e(),setup(e,f){let{slots:t}=f;return R(()=>l(k,ee(e,{class:["v-app-bar-nav-icon"]}),t)),{}}}),Oe={__name:"default",setup(e){const{mobile:f}=we(),t=Se(),m=Te(),u=Be(),n=O(!1),c={to:"/",img:new URL(""+new URL("Dost_logo-CIekf1rM.png",import.meta.url).href,import.meta.url).href},i={to:"/cart",text:"購物車",icon:"mdi-cart-variant"},y=v(()=>[{to:"/about",text:"About Me",icon:"mdi-alpha-d-box",show:t.isLogin||!t.isLogin},{to:"/coolDogs",text:"帥氣狗狗",icon:"mdi-dog",show:t.isLogin||!t.isLogin},{to:"/booking",text:"預約時間",icon:"mdi-calendar-clock",show:t.isLogin},{to:"/test",text:"狗狗適性測驗",icon:"mdi-dog-side",show:t.isLogin||!t.isLogin},{to:"/shop",text:"寵物用品",icon:"mdi-store",show:t.isLogin||!t.isLogin},{to:"/admin",text:"管理區",icon:"mdi-account-tie",show:t.isLogin&&t.isAdmin}]),w=[{to:"/register",text:"註冊",icon:"mdi-account-plus",show:!t.isLogin},{to:"/login",text:"登入",icon:"mdi-account-circle",show:!t.isLogin}],d=async()=>(await t.logout(),u({text:"登出成功",snackbarProps:{color:"green"}}),m.push("/"));return(h,p)=>{const b=Ie("router-view");return r(),I(C,null,[l(Fe,{class:"bg-light-blue-darken-4 align-center",height:x(f)===!0?"120":"190"},{default:o(()=>[x(f)?(r(),g(K,{key:0,class:"py-0 px-8"},{default:o(()=>[l(H,null,{default:o(()=>[l(T,{class:"d-flex justify-star align-center"},{default:o(()=>[l(k,{class:"bg-white rounded-circle",to:c.to,variant:"text",ripple:!1,size:"60"},{default:o(()=>[l(q,{src:c.img,width:"40"},null,8,["src"])]),_:1},8,["to"])]),_:1}),x(t).cart>0?(r(),g(k,{key:0,class:"",position:"fixed",location:"center",to:i.to,variant:"flat",ripple:!1,color:"transparent"},{default:o(()=>[i.to==="/cart"&&x(t).cart>0?(r(),g(G,{key:0,"offset-x":"2","offset-y":"2",color:"pink-lighten-1",content:x(t).cart},{default:o(()=>[l(J,{class:"bg-white rounded-circle text-h5",size:"46",color:"pink-lighten-1",icon:i.icon},null,8,["icon"])]),_:1},8,["content"])):_("",!0)]),_:1},8,["to"])):_("",!0),l(T,{class:"d-flex justify-end align-center"},{default:o(()=>[l(qe,{onClick:p[0]||(p[0]=Ce(a=>n.value=!n.value,["stop"]))})]),_:1})]),_:1})]),_:1})):(r(),g(K,{key:1,class:"pt-0"},{default:o(()=>[l(H,null,{default:o(()=>[l(T,{class:"d-flex justify-center align-center"},{default:o(()=>[l(k)]),_:1}),l(T,{class:"d-flex justify-center align-center"},{default:o(()=>[l(k,{class:"bg-white rounded-circle",to:c.to,variant:"text",ripple:!1,size:"100"},{default:o(()=>[l(q,{src:c.img,width:"70",cover:""},null,8,["src"])]),_:1},8,["to"])]),_:1}),l(H,{class:"flex-column","no-gutters":""},{default:o(()=>[(r(),I(C,null,U(w,a=>l(T,{key:a.to,class:"d-flex justify-end align-center"},{default:o(()=>[a.show?(r(),g(k,{key:0,"prepend-icon":a.icon,to:a.to,variant:"plain",ripple:!1},{default:o(()=>[P(F(a.text),1)]),_:2},1032,["prepend-icon","to"])):_("",!0)]),_:2},1024)),64))]),_:1})]),_:1}),l(H,{class:"flex-nowrap"},{default:o(()=>[l(T,{class:"py-0 d-flex justify-center align-center"},{default:o(()=>[(r(!0),I(C,null,U(y.value,a=>(r(),I(C,{key:a.to},[a.show?(r(),g(k,{key:0,class:"px-0",width:"150","prepend-icon":a.icon,to:a.to,variant:"plain",ripple:!1},{default:o(()=>[P(F(a.text),1)]),_:2},1032,["prepend-icon","to"])):_("",!0)],64))),128)),x(t).isLogin?(r(),g(k,{key:0,"prepend-icon":"mdi-account-arrow-right",variant:"outlined",rounded:"",ripple:!1,onClick:d},{default:o(()=>[P("登出")]),_:1})):_("",!0)]),_:1})]),_:1}),x(t).cart>0?(r(),g(k,{key:0,class:"me-4",position:"fixed",location:"right",to:i.to,variant:"flat",ripple:!1,color:"transparent"},{default:o(()=>[i.to==="/cart"&&x(t).cart>0?(r(),g(G,{key:0,"offset-x":"2","offset-y":"2",color:"pink-lighten-1",content:x(t).cart},{default:o(()=>[l(J,{class:"bg-white rounded-circle text-h5",size:"46",color:"pink-lighten-1",icon:i.icon},null,8,["icon"])]),_:1},8,["content"])):_("",!0)]),_:1},8,["to"])):_("",!0)]),_:1}))]),_:1},8,["height"]),x(f)?(r(),g(Ae,{key:0,modelValue:n.value,"onUpdate:modelValue":p[1]||(p[1]=a=>n.value=a)},{default:o(()=>[l(Pe,{nav:""},{default:o(()=>[(r(!0),I(C,null,U(y.value,a=>(r(),I(C,{key:a.to},[a.show?(r(),g(He,{key:0,class:"px-10","prepend-icon":a.icon,to:a.to,title:a.text},null,8,["prepend-icon","to","title"])):_("",!0)],64))),128)),l(Le,{class:"my-4"}),l(H,null,{default:o(()=>[(r(),I(C,null,U(w,a=>l(T,{key:a.to,class:"d-flex justify-center align-center"},{default:o(()=>[a.show?(r(),g(k,{key:0,"prepend-icon":a.icon,to:a.to,variant:"plain",ripple:!1},{default:o(()=>[P(F(a.text),1)]),_:2},1032,["prepend-icon","to"])):_("",!0)]),_:2},1024)),64))]),_:1}),l(T,{class:"d-flex justify-center"},{default:o(()=>[x(t).isLogin?(r(),g(k,{key:0,"prepend-icon":"mdi-account-arrow-right",variant:"outlined",rounded:"",ripple:!1,onClick:d},{default:o(()=>[P("登出")]),_:1})):_("",!0)]),_:1})]),_:1})]),_:1},8,["modelValue"])):_("",!0),l(Ee,null,{default:o(()=>[l(b)]),_:1})],64)}}},Qe=Ve(Oe,[["__scopeId","data-v-f7ae71c6"]]);export{Qe as default};
