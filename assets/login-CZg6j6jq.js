import{_ as y,a as C,u as F,i as U,o as B,j as I,w as t,e,T as D,h as a,Q as M,U as m,V as N,R as l,k as R,b as T,c as j,W as q,X as P,Y as _}from"./index-Bpng_Fgk.js";import{c as $,a as p,u as z,f,V as A}from"./vee-validate.esm-Bb59PWfo.js";import{v as Q}from"./index-Kff9ldf0.js";import{V as b}from"./VCol-DHlgVTbF.js";import{V as W}from"./VDivider-CGjmZFrE.js";import{V as X}from"./VRow-DbPpJXgm.js";import{V as Y}from"./VContainer-BsDcz-rc.js";const g=o=>(q("data-v-cfb082bd"),o=o(),P(),o),E=g(()=>_("h1",{class:"text-spacing1"},"登入",-1)),G=g(()=>_("h4",{class:"text-spacing2"},"與狗狗歡度快樂時刻",-1)),H={__name:"login",setup(o){const V=T(),x=C(),{mobile:v}=F(),i=U(),h=$({account:p().required("使用者帳號必填").min(4,"使用者帳號文字最少 4 個字").max(20,"使用者帳號文字最多 20 個字").test("驗證 account","使用者帳號格式錯誤",r=>Q.isAlphanumeric(r)),password:p().required("密碼必填").min(4,"使用者密碼最少 4 個字").max(20,"使用者密碼最多 20 個字")}),{handleSubmit:w,isSubmitting:d}=z({validationSchema:h}),n=f("account"),c=f("password"),S=w(async r=>{const s=await x.login(r);if(s==="登入成功")return i({text:s,snackbarProps:{color:"green"}}),V.push("/");i({text:s,snackbarProps:{color:"red"}})});return(r,s)=>{const k=j("router-link");return B(),I(Y,{class:"mt-3 mb-7"},{default:t(()=>[e(X,null,{default:t(()=>[e(b,{class:"text-center",cols:"12"},{default:t(()=>[E,G]),_:1}),e(W,{class:"py-2"}),e(b,{class:"d-flex justify-center"},{default:t(()=>[e(A,{class:D(["text-center",a(v)?"w-50":"w-40"]),onSubmit:M(a(S),["prevent"]),disabled:a(d)},{default:t(()=>[e(m,{type:"account",label:"帳號",minlength:"4",maxlength:"20",counter:"",modelValue:a(n).value.value,"onUpdate:modelValue":s[0]||(s[0]=u=>a(n).value.value=u),"error-messages":a(n).errorMessage.value},null,8,["modelValue","error-messages"]),e(m,{type:"password",label:"密碼",minlength:"4",maxlength:"20",counter:"",modelValue:a(c).value.value,"onUpdate:modelValue":s[1]||(s[1]=u=>a(c).value.value=u),"error-messages":a(c).errorMessage.value},null,8,["modelValue","error-messages"]),e(N,{class:"bg-transparent text-body-2 mb-5"},{default:t(()=>[l(" 尚未加入會員？點擊 "),e(k,{class:"text-subtitle-1 font-weight-black text-decoration-none text-blue",to:{path:"/register"}},{default:t(()=>[l("註冊")]),_:1}),l(" 會員 ")]),_:1}),e(R,{class:"w-25",type:"submit",color:"green",loading:a(d)},{default:t(()=>[l("登入")]),_:1},8,["loading"])]),_:1},8,["class","onSubmit","disabled"])]),_:1})]),_:1})]),_:1})}}},se=y(H,[["__scopeId","data-v-cfb082bd"]]);export{se as default};
