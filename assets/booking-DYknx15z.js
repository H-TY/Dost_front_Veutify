import{p as z,ar as ie,q as Q,I as N,s as ee,e as n,k as U,aN as Re,z as Ee,aR as Se,K as ue,aS as Ue,aT as Be,r as Y,aU as Oe,aV as se,H as te,O as j,a2 as $,S as ne,aW as _e,X as Pe,W as E,L as De,aX as We,P as Ce,al as Ne,aq as le,aY as Le,aZ as qe,a_ as me,F as de,a$ as je,b0 as oe,_ as Fe,a as ze,i as Qe,o as K,j as re,w as C,a8 as ce,a3 as ae,d as he,g as fe,h as T,aH as Xe,V as Z,a1 as Ke,a5 as F,a4 as pe,b1 as Ze,b as Ge,aQ as Je,a6 as ea,a7 as aa}from"./index-DR4J8uSa.js";import{_ as ta}from"./dogsCard-GbJGQ9L2.js";import{c as na,a as G,d as la,b as sa,u as ia,f as q,V as ge}from"./vee-validate.esm-DiGXLRYh.js";import{b as J,d as oa,f as ra,P as da,N as ua,S as ca,a as va}from"./pagination-Cks0c4jo.js";import{V as ke}from"./VCol-CNbG2IYV.js";import{V as ma}from"./VDivider-CyimJLSa.js";import{a as ha}from"./VList-CbmMDPoF.js";import{V as fa}from"./VRow-CV4hNakP.js";import{V as pa}from"./VContainer-N-qNy2n_.js";import{V as ga}from"./VCheckbox-DAfW_dzY.js";import"./VCheckboxBtn-iI1ly3AH.js";const Ie=z({active:{type:[String,Array],default:void 0},disabled:{type:[Boolean,String,Array],default:!1},nextIcon:{type:ie,default:"$next"},prevIcon:{type:ie,default:"$prev"},modeIcon:{type:ie,default:"$subgroup"},text:String,viewMode:{type:String,default:"month"}},"VDatePickerControls"),ye=Q()({name:"VDatePickerControls",props:Ie(),emits:{"click:year":()=>!0,"click:month":()=>!0,"click:prev":()=>!0,"click:next":()=>!0,"click:text":()=>!0},setup(e,a){let{emit:w}=a;const u=N(()=>Array.isArray(e.disabled)?e.disabled.includes("text"):!!e.disabled),t=N(()=>Array.isArray(e.disabled)?e.disabled.includes("mode"):!!e.disabled),c=N(()=>Array.isArray(e.disabled)?e.disabled.includes("prev"):!!e.disabled),r=N(()=>Array.isArray(e.disabled)?e.disabled.includes("next"):!!e.disabled);function v(){w("click:prev")}function d(){w("click:next")}function l(){w("click:year")}function i(){w("click:month")}return ee(()=>n("div",{class:["v-date-picker-controls"]},[n(U,{class:"v-date-picker-controls__month-btn",disabled:u.value,text:e.text,variant:"text",rounded:!0,onClick:i},null),n(U,{key:"mode-btn",class:"v-date-picker-controls__mode-btn",disabled:t.value,density:"comfortable",icon:e.modeIcon,variant:"text",onClick:l},null),n(Re,{key:"mode-spacer"},null),n("div",{key:"month-buttons",class:"v-date-picker-controls__month"},[n(U,{disabled:c.value,icon:e.prevIcon,variant:"text",onClick:v},null),n(U,{disabled:r.value,icon:e.nextIcon,variant:"text",onClick:d},null)])])),{}}}),ka=z({appendIcon:String,color:String,header:String,transition:String,onClick:Ue()},"VDatePickerHeader"),be=Q()({name:"VDatePickerHeader",props:ka(),emits:{click:()=>!0,"click:append":()=>!0},setup(e,a){let{emit:w,slots:u}=a;const{backgroundColorClasses:t,backgroundColorStyles:c}=Ee(e,"color");function r(){w("click")}function v(){w("click:append")}return ee(()=>{const d=!!(u.default||e.header),l=!!(u.append||e.appendIcon);return n("div",{class:["v-date-picker-header",{"v-date-picker-header--clickable":!!e.onClick},t.value],style:c.value,onClick:r},[u.prepend&&n("div",{key:"prepend",class:"v-date-picker-header__prepend"},[u.prepend()]),d&&n(Se,{key:"content",name:e.transition},{default:()=>{var i;return[n("div",{key:e.header,class:"v-date-picker-header__content"},[((i=u.default)==null?void 0:i.call(u))??e.header])]}}),l&&n("div",{class:"v-date-picker-header__append"},[u.append?n(ue,{key:"append-defaults",disabled:!e.appendIcon,defaults:{VBtn:{icon:e.appendIcon,variant:"text"}}},{default:()=>{var i;return[(i=u.append)==null?void 0:i.call(u)]}}):n(U,{key:"append-btn",icon:e.appendIcon,variant:"text",onClick:v},null)])])}),{}}}),Me=z({color:String,hideWeekdays:Boolean,multiple:[Boolean,Number,String],showWeek:Boolean,transition:{type:String,default:"picker-transition"},reverseTransition:{type:String,default:"picker-reverse-transition"},...Be()},"VDatePickerMonth"),xe=Q()({name:"VDatePickerMonth",props:Me(),emits:{"update:modelValue":e=>!0,"update:month":e=>!0,"update:year":e=>!0},setup(e,a){let{emit:w,slots:u}=a;const t=Y(),{daysInMonth:c,model:r,weekNumbers:v}=Oe(e),d=se(),l=te(),i=te(),y=te(!1),V=N(()=>y.value?e.reverseTransition:e.transition);e.multiple==="range"&&r.value.length>0&&(l.value=r.value[0],r.value.length>1&&(i.value=r.value[r.value.length-1]));const o=N(()=>{const p=["number","string"].includes(typeof e.multiple)?Number(e.multiple):1/0;return r.value.length>=p});j(c,(p,s)=>{s&&(y.value=d.isBefore(p[0].date,s[0].date))});function x(p){const s=d.startOfDay(p);if(r.value.length===0?l.value=void 0:r.value.length===1&&(l.value=r.value[0],i.value=void 0),!l.value)l.value=s,r.value=[l.value];else if(i.value)l.value=p,i.value=void 0,r.value=[l.value];else{if(d.isSameDay(s,l.value)){l.value=void 0,r.value=[];return}else d.isBefore(s,l.value)?(i.value=d.endOfDay(l.value),l.value=s):i.value=d.endOfDay(s);const P=d.getDiff(i.value,l.value,"days"),S=[l.value];for(let I=1;I<P;I++){const H=d.addDays(l.value,I);S.push(H)}S.push(i.value),r.value=S}}function f(p){const s=r.value.findIndex(P=>d.isSameDay(P,p));if(s===-1)r.value=[...r.value,p];else{const P=[...r.value];P.splice(s,1),r.value=P}}function k(p){e.multiple==="range"?x(p):e.multiple?f(p):r.value=[p]}return()=>n("div",{class:"v-date-picker-month"},[e.showWeek&&n("div",{key:"weeks",class:"v-date-picker-month__weeks"},[!e.hideWeekdays&&n("div",{key:"hide-week-days",class:"v-date-picker-month__day"},[$(" ")]),v.value.map(p=>n("div",{class:["v-date-picker-month__day","v-date-picker-month__day--adjacent"]},[p]))]),n(Se,{name:V.value},{default:()=>{var p;return[n("div",{ref:t,key:(p=c.value[0].date)==null?void 0:p.toString(),class:"v-date-picker-month__days"},[!e.hideWeekdays&&d.getWeekdays(e.firstDayOfWeek).map(s=>n("div",{class:["v-date-picker-month__day","v-date-picker-month__weekday"]},[s])),c.value.map((s,P)=>{const S={props:{onClick:()=>k(s.date)},item:s,i:P};return o.value&&!s.isSelected&&(s.isDisabled=!0),n("div",{class:["v-date-picker-month__day",{"v-date-picker-month__day--adjacent":s.isAdjacent,"v-date-picker-month__day--hide-adjacent":s.isHidden,"v-date-picker-month__day--selected":s.isSelected,"v-date-picker-month__day--week-end":s.isWeekEnd,"v-date-picker-month__day--week-start":s.isWeekStart}],"data-v-date":s.isDisabled?void 0:s.isoDate},[(e.showAdjacentMonths||!s.isAdjacent)&&n(ue,{defaults:{VBtn:{class:"v-date-picker-month__day-btn",color:(s.isSelected||s.isToday)&&!s.isDisabled?e.color:void 0,disabled:s.isDisabled,icon:!0,ripple:!1,text:s.localized,variant:s.isDisabled?s.isToday?"outlined":"text":s.isToday&&!s.isSelected?"outlined":"flat",onClick:()=>k(s.date)}}},{default:()=>{var I;return[((I=u.day)==null?void 0:I.call(u,S))??n(U,S.props,null)]}})])})])]}})])}}),Ae=z({color:String,height:[String,Number],min:null,max:null,modelValue:Number,year:Number},"VDatePickerMonths"),Ve=Q()({name:"VDatePickerMonths",props:Ae(),emits:{"update:modelValue":e=>!0},setup(e,a){let{emit:w,slots:u}=a;const t=se(),c=ne(e,"modelValue"),r=N(()=>{let v=t.startOfYear(t.date());return e.year&&(v=t.setYear(v,e.year)),_e(12).map(d=>{const l=t.format(v,"monthShort"),i=!!(e.min&&t.isAfter(t.startOfMonth(t.date(e.min)),v)||e.max&&t.isAfter(v,t.startOfMonth(t.date(e.max))));return v=t.getNextMonth(v),{isDisabled:i,text:l,value:d}})});return Pe(()=>{c.value=c.value??t.getMonth(t.date())}),ee(()=>n("div",{class:"v-date-picker-months",style:{height:De(e.height)}},[n("div",{class:"v-date-picker-months__content"},[r.value.map((v,d)=>{var y;const l={active:c.value===d,color:c.value===d?e.color:void 0,disabled:v.isDisabled,rounded:!0,text:v.text,variant:c.value===v.value?"flat":"text",onClick:()=>i(d)};function i(V){if(c.value===V){w("update:modelValue",c.value);return}c.value=V}return((y=u.month)==null?void 0:y.call(u,{month:v,i:d,props:l}))??n(U,E({key:"month"},l),null)})])])),{}}}),Te=z({color:String,height:[String,Number],min:null,max:null,modelValue:Number},"VDatePickerYears"),we=Q()({name:"VDatePickerYears",props:Te(),emits:{"update:modelValue":e=>!0},setup(e,a){let{emit:w,slots:u}=a;const t=se(),c=ne(e,"modelValue"),r=N(()=>{const d=t.getYear(t.date());let l=d-100,i=d+52;e.min&&(l=t.getYear(t.date(e.min))),e.max&&(i=t.getYear(t.date(e.max)));let y=t.startOfYear(t.date());return y=t.setYear(y,l),_e(i-l+1,l).map(V=>{const o=t.format(y,"year");return y=t.setYear(y,t.getYear(y)+1),{text:o,value:V}})});Pe(()=>{c.value=c.value??t.getYear(t.date())});const v=We();return Ce(async()=>{var d;await Ne(),(d=v.el)==null||d.scrollIntoView({block:"center"})}),ee(()=>n("div",{class:"v-date-picker-years",style:{height:De(e.height)}},[n("div",{class:"v-date-picker-years__content"},[r.value.map((d,l)=>{var y;const i={ref:c.value===d.value?v:void 0,active:c.value===d.value,color:c.value===d.value?e.color:void 0,rounded:!0,text:d.text,variant:c.value===d.value?"flat":"text",onClick:()=>{if(c.value===d.value){w("update:modelValue",c.value);return}c.value=d.value}};return((y=u.year)==null?void 0:y.call(u,{year:d,i:l,props:i}))??n(U,E({key:"month"},i),null)})])])),{}}}),ya=z({header:{type:String,default:"$vuetify.datePicker.header"},...Ie(),...Me({weeksInMonth:"static"}),...le(Ae(),["modelValue"]),...le(Te(),["modelValue"]),...Le({title:"$vuetify.datePicker.title"}),modelValue:null},"VDatePicker"),ba=Q()({name:"VDatePicker",props:ya(),emits:{"update:modelValue":e=>!0,"update:month":e=>!0,"update:year":e=>!0,"update:viewMode":e=>!0},setup(e,a){let{emit:w,slots:u}=a;const t=se(),{t:c}=qe(),r=ne(e,"modelValue",void 0,h=>oe(h),h=>e.multiple?h:h[0]),v=ne(e,"viewMode"),d=N(()=>{var M;const h=t.date((M=r.value)==null?void 0:M[0]);return h&&t.isValid(h)?h:t.date()}),l=Y(Number(e.month??t.getMonth(t.startOfMonth(d.value)))),i=Y(Number(e.year??t.getYear(t.startOfYear(t.setMonth(d.value,l.value))))),y=te(!1),V=N(()=>e.multiple&&r.value.length>1?c("$vuetify.datePicker.itemsSelected",r.value.length):r.value[0]&&t.isValid(r.value[0])?t.format(t.date(r.value[0]),"normalDateWithWeekday"):c(e.header)),o=N(()=>{let h=t.date();return h=t.setDate(h,1),h=t.setMonth(h,l.value),h=t.setYear(h,i.value),t.format(h,"monthAndYear")}),x=N(()=>`date-picker-header${y.value?"-reverse":""}-transition`),f=N(()=>{const h=t.date(e.min);return e.min&&t.isValid(h)?h:null}),k=N(()=>{const h=t.date(e.max);return e.max&&t.isValid(h)?h:null}),p=N(()=>{if(e.disabled)return!0;const h=[];if(v.value!=="month")h.push("prev","next");else{let M=t.date();if(M=t.setYear(M,i.value),M=t.setMonth(M,l.value),f.value){const A=t.addDays(t.startOfMonth(M),-1);t.isAfter(f.value,A)&&h.push("prev")}if(k.value){const A=t.addDays(t.endOfMonth(M),1);t.isAfter(A,k.value)&&h.push("next")}}return h});function s(){l.value<11?l.value++:(i.value++,l.value=0,W(i.value)),O(l.value)}function P(){l.value>0?l.value--:(i.value--,l.value=11,W(i.value)),O(l.value)}function S(){v.value="month"}function I(){v.value=v.value==="months"?"month":"months"}function H(){v.value=v.value==="year"?"month":"year"}function O(h){v.value==="months"&&I(),w("update:month",h)}function W(h){v.value==="year"&&H(),w("update:year",h)}return j(r,(h,M)=>{const A=oe(M),R=oe(h);if(!R.length)return;const X=t.date(A[A.length-1]),L=t.date(R[R.length-1]),B=t.getMonth(L),D=t.getYear(L);B!==l.value&&(l.value=B,O(l.value)),D!==i.value&&(i.value=D,W(i.value)),y.value=t.isBefore(X,L)}),ee(()=>{const h=me.filterProps(e),M=ye.filterProps(e),A=be.filterProps(e),R=xe.filterProps(e),X=le(Ve.filterProps(e),["modelValue"]),L=le(we.filterProps(e),["modelValue"]),B={header:V.value,transition:x.value};return n(me,E(h,{class:["v-date-picker",`v-date-picker--${v.value}`,{"v-date-picker--show-week":e.showWeek},e.class],style:e.style}),{title:()=>{var D;return((D=u.title)==null?void 0:D.call(u))??n("div",{class:"v-date-picker__title"},[c(e.title)])},header:()=>u.header?n(ue,{defaults:{VDatePickerHeader:{...B}}},{default:()=>{var D;return[(D=u.header)==null?void 0:D.call(u,B)]}}):n(be,E({key:"header"},A,B,{onClick:v.value!=="month"?S:void 0}),{...u,default:void 0}),default:()=>n(de,null,[n(ye,E(M,{disabled:p.value,text:o.value,"onClick:next":s,"onClick:prev":P,"onClick:month":I,"onClick:year":H}),null),n(je,{hideOnLeave:!0},{default:()=>[v.value==="months"?n(Ve,E({key:"date-picker-months"},X,{modelValue:l.value,"onUpdate:modelValue":[D=>l.value=D,O],min:f.value,max:k.value,year:i.value}),null):v.value==="year"?n(we,E({key:"date-picker-years"},L,{modelValue:i.value,"onUpdate:modelValue":[D=>i.value=D,W],min:f.value,max:k.value}),null):n(xe,E({key:"date-picker-month"},R,{modelValue:r.value,"onUpdate:modelValue":D=>r.value=D,month:l.value,"onUpdate:month":[D=>l.value=D,O],year:i.value,"onUpdate:year":[D=>i.value=D,W],min:f.value,max:k.value}),null)]})]),actions:u.actions})}),{}}});function xa(e){let{swiper:a,extendParams:w,on:u}=e;w({history:{enabled:!1,root:"",replaceState:!1,key:"slides",keepQuery:!1}});let t=!1,c={};const r=o=>o.toString().replace(/\s+/g,"-").replace(/[^\w-]+/g,"").replace(/--+/g,"-").replace(/^-+/,"").replace(/-+$/,""),v=o=>{const x=J();let f;o?f=new URL(o):f=x.location;const k=f.pathname.slice(1).split("/").filter(S=>S!==""),p=k.length,s=k[p-2],P=k[p-1];return{key:s,value:P}},d=(o,x)=>{const f=J();if(!t||!a.params.history.enabled)return;let k;a.params.url?k=new URL(a.params.url):k=f.location;const p=a.virtual&&a.params.virtual.enabled?a.slidesEl.querySelector(`[data-swiper-slide-index="${x}"]`):a.slides[x];let s=r(p.getAttribute("data-history"));if(a.params.history.root.length>0){let S=a.params.history.root;S[S.length-1]==="/"&&(S=S.slice(0,S.length-1)),s=`${S}/${o?`${o}/`:""}${s}`}else k.pathname.includes(o)||(s=`${o?`${o}/`:""}${s}`);a.params.history.keepQuery&&(s+=k.search);const P=f.history.state;P&&P.value===s||(a.params.history.replaceState?f.history.replaceState({value:s},null,s):f.history.pushState({value:s},null,s))},l=(o,x,f)=>{if(x)for(let k=0,p=a.slides.length;k<p;k+=1){const s=a.slides[k];if(r(s.getAttribute("data-history"))===x){const S=a.getSlideIndex(s);a.slideTo(S,o,f)}}else a.slideTo(0,o,f)},i=()=>{c=v(a.params.url),l(a.params.speed,c.value,!1)},y=()=>{const o=J();if(a.params.history){if(!o.history||!o.history.pushState){a.params.history.enabled=!1,a.params.hashNavigation.enabled=!0;return}if(t=!0,c=v(a.params.url),!c.key&&!c.value){a.params.history.replaceState||o.addEventListener("popstate",i);return}l(0,c.value,a.params.runCallbacksOnInit),a.params.history.replaceState||o.addEventListener("popstate",i)}},V=()=>{const o=J();a.params.history.replaceState||o.removeEventListener("popstate",i)};u("init",()=>{a.params.history.enabled&&y()}),u("destroy",()=>{a.params.history.enabled&&V()}),u("transitionEnd _freeModeNoMomentumRelease",()=>{t&&d(a.params.history.key,a.activeIndex)}),u("slideChange",()=>{t&&a.params.cssMode&&d(a.params.history.key,a.activeIndex)})}function Va(e){let{swiper:a,extendParams:w,emit:u,on:t}=e,c=!1;const r=oa(),v=J();w({hashNavigation:{enabled:!1,replaceState:!1,watchState:!1,getSlideIndex(V,o){if(a.virtual&&a.params.virtual.enabled){const x=a.slides.filter(k=>k.getAttribute("data-hash")===o)[0];return x?parseInt(x.getAttribute("data-swiper-slide-index"),10):0}return a.getSlideIndex(ra(a.slidesEl,`.${a.params.slideClass}[data-hash="${o}"], swiper-slide[data-hash="${o}"]`)[0])}}});const d=()=>{u("hashChange");const V=r.location.hash.replace("#",""),o=a.virtual&&a.params.virtual.enabled?a.slidesEl.querySelector(`[data-swiper-slide-index="${a.activeIndex}"]`):a.slides[a.activeIndex],x=o?o.getAttribute("data-hash"):"";if(V!==x){const f=a.params.hashNavigation.getSlideIndex(a,V);if(typeof f>"u"||Number.isNaN(f))return;a.slideTo(f)}},l=()=>{if(!c||!a.params.hashNavigation.enabled)return;const V=a.virtual&&a.params.virtual.enabled?a.slidesEl.querySelector(`[data-swiper-slide-index="${a.activeIndex}"]`):a.slides[a.activeIndex],o=V?V.getAttribute("data-hash")||V.getAttribute("data-history"):"";a.params.hashNavigation.replaceState&&v.history&&v.history.replaceState?(v.history.replaceState(null,null,`#${o}`||""),u("hashSet")):(r.location.hash=o||"",u("hashSet"))},i=()=>{if(!a.params.hashNavigation.enabled||a.params.history&&a.params.history.enabled)return;c=!0;const V=r.location.hash.replace("#","");if(V){const x=a.params.hashNavigation.getSlideIndex(a,V);a.slideTo(x||0,0,a.params.runCallbacksOnInit,!0)}a.params.hashNavigation.watchState&&v.addEventListener("hashchange",d)},y=()=>{a.params.hashNavigation.watchState&&v.removeEventListener("hashchange",d)};t("init",()=>{a.params.hashNavigation.enabled&&i()}),t("destroy",()=>{a.params.hashNavigation.enabled&&y()}),t("transitionEnd _freeModeNoMomentumRelease",()=>{c&&l()}),t("slideChange",()=>{c&&a.params.cssMode&&l()})}const $e=e=>(ea("data-v-c9ab1900"),e=e(),aa(),e),wa=$e(()=>ce("h1",null,"預約狗狗時間",-1)),Sa=$e(()=>ce("h3",null,"可預約時段",-1)),_a={__name:"booking",setup(e){const a=Ze(),w=Ge(),{backApi:u,apiAuth:t}=Je(),c=ze(),r=Qe(),v=[da,ua,Va,xa],d=N(()=>{if(!c.isLogin){w.push("/login");return}return c.account}),l=Y(new Date("")),i=N(()=>isNaN(l.value.getTime())?"左側選擇日期":l.value.toLocaleDateString()),y=Y([]);(async()=>{var b,g;try{const{data:m}=await u.get("/dogs");y.value.splice(0,y.value.length,...m.result.data)}catch(m){console.log(m),r({text:((g=(b=m==null?void 0:m.response)==null?void 0:b.data)==null?void 0:g.message)||"發生錯誤",snackbarProps:{color:"red"}})}})();const o=Y({_id:"",image:"",dogName:"",age:0,price:0,booking:!0,bookingTime:[],feature:"",sell:!0,counter:0}),x=Y(a.query.id);console.log("Rid:",x),console.log("Rid.value:",x.value),console.log(a.query.id),Ce(()=>{setTimeout(()=>{k()},100),k(),window.addEventListener("hashchange",k)}),console.log(window.location);const f=Y("");console.log("urlHash:",f.value),j(f,(b,g)=>{console.log("哈希newId:",b,"哈希oldId:",g)});const k=()=>{console.log("urlHash 1",f.value),console.log("window.location.hash",window.location.hash.substring(10)),f.value=window.location.hash.substring(10),console.log("urlHash 2",f.value)},p=()=>{console.log("反應1"),k()};(async()=>{var b,g;if(x.value!==void 0)try{await Ne();const{data:m}=await u.get("/dogs/"+x.value);o.value._id=m.result._id,o.value.image=m.result.image,o.value.dogName=m.result.dogName,o.value.age=m.result.age,o.value.price=m.result.price,o.value.booking=m.result.booking,o.value.bookingTime=m.result.bookingTime,o.value.feature=m.result.feature,o.value.sell=m.result.sell,o.value.counter=m.result.counter}catch(m){console.log(m),r({text:((g=(b=m==null?void 0:m.response)==null?void 0:b.data)==null?void 0:g.message)||"發生錯誤",snackbarProps:{color:"red"}})}})();const P=Y(!1),S=()=>{P.value=!0},I=Y([]),H=N(()=>o.value.price*I.value.length),O=na({name:G().required("預約人名字必填"),phone:G().required("預約人電話必填"),dogName:G().required("狗狗名字必填"),bookingDate:G().required("預約日期必填"),bookingTime:la().required("預約時段必填"),totalPrice:sa().required("預約總金額必填").typeError("預約總金額格式錯誤").min(0,"預約總金額不能小於 0"),accountName:G().required("帳戶名稱必填")}),{handleSubmit:W,isSubmitting:h,resetForm:M}=ia({validationSchema:O,initialValues:{name:d.value,phone:"",dogName:"",bookingDate:"",bookingTime:[],totalPrice:0,accountName:""}}),A=q("name"),R=q("phone"),X=q("dogName"),L=q("bookingDate"),B=q("bookingTime"),D=q("totalPrice"),Ye=q("accountName");j(i,(b,g)=>{if(b!==g)return Ye.value.value=d.value,X.value.value=o.value.dogName}),j(i,(b,g)=>{if(b!==g)return I.value=[],L.value.value=i.value}),j(I,(b,g)=>{if(b!==g)return B.value.value=I.value.sort((m,_)=>parseInt(m)-parseInt(_))}),j(H,(b,g)=>{if(b!==g)return D.value.value=H.value});const He=W(async b=>{var g,m;try{const _=new FormData;_.append("name",b.name),_.append("phone",b.phone),_.append("dogName",b.dogName),_.append("bookingDate",b.bookingDate),_.append("bookingTime",b.bookingTime),_.append("totalPrice",b.totalPrice),_.append("accountName",b.accountName),await t.post("/order",_),r({text:"預約成功",snackbarProps:{color:"green"}}),M(),i.value=NaN,I.value=[],H.value=0}catch(_){console.log(_),r({text:((m=(g=_==null?void 0:_.response)==null?void 0:g.data)==null?void 0:m.message)||"發生錯誤",snackbarProps:{color:"red"}})}}),ve=N(()=>({myClass:A.value.value.length>0}));return(b,g)=>(K(),re(pa,{class:"text-center my-8"},{default:C(()=>[wa,ce("p",null,"當前 ID: "+ae(f.value),1),n(T(ca),{slidesPerView:"auto",centeredSlides:!0,spaceBetween:30,pagination:{clickable:!0},navigation:!0,hashNavigation:{replaceState:!0,watchState:!0},modules:v,onSlideChange:p,class:"mySwiper my-10"},{default:C(()=>[(K(!0),he(de,null,fe(y.value,m=>(K(),re(T(va),{"data-hash":`/booking#${m._id}`},{default:C(()=>[n(Z,{style:{width:"100%"}},{default:C(()=>[n(ta,E({ref_for:!0},m),null,16)]),_:2},1024)]),_:2},1032,["data-hash"]))),256))]),_:1}),n(fa,{class:"my-7"},{default:C(()=>[n(ke,{class:"d-flex flex-wrap justify-center",cols:"12",sm:"6"},{default:C(()=>[n(ba,{width:"400",color:"primary",modelValue:l.value,"onUpdate:modelValue":g[0]||(g[0]=m=>l.value=m),"show-adjacent-months":"",onClick:S},null,8,["modelValue"]),n(Xe,{modelValue:P.value,"onUpdate:modelValue":g[2]||(g[2]=m=>P.value=m),width:"auto"},{default:C(()=>[n(ge,null,{default:C(()=>[n(Z,{class:"bg-white d-flex flex-column text-center justify-self-center pa-7",width:"350"},{default:C(()=>[Sa,n(ma,{class:"my-4"}),(K(!0),he(de,null,fe(o.value.bookingTime.join(" ").split(",").sort((m,_)=>parseInt(m)-parseInt(_)),m=>(K(),re(ga,{class:"d-flex justify-center",modelValue:I.value,"onUpdate:modelValue":g[1]||(g[1]=_=>I.value=_),label:m,value:m,"false-icon":"mdi-paw-outline","true-icon":"mdi-paw"},null,8,["modelValue","label","value"]))),256))]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1}),n(ke,{class:"d-flex justify-center"},{default:C(()=>[n(ge,{class:"w-90",cols:"12",sm:"6",onSubmit:Ke(T(He),["prevent"]),disabled:T(h)},{default:C(()=>[n(F,{label:"預約人姓名",class:pe(ve.value),modelValue:T(A).value.value,"onUpdate:modelValue":g[3]||(g[3]=m=>T(A).value.value=m),"error-messages":T(A).errorMessage.value},null,8,["class","modelValue","error-messages"]),n(F,{label:"預約人電話",class:pe(ve.value),modelValue:T(R).value.value,"onUpdate:modelValue":g[4]||(g[4]=m=>T(R).value.value=m),"error-messages":T(R).errorMessage.value},null,8,["class","modelValue","error-messages"]),n(F,{readonly:""},{default:C(()=>[$("預約狗狗： "),n(Z,{class:"text-h6 font-weight-bold bg-transparent"},{default:C(()=>[$(ae(o.value.dogName),1)]),_:1})]),_:1}),n(F,{readonly:""},{default:C(()=>[$("預約日期： "),n(Z,{class:"text-h6 font-weight-bold bg-transparent"},{default:C(()=>[$(ae(i.value),1)]),_:1})]),_:1}),n(F,{readonly:""},{default:C(()=>[$("預約時間： "),n(ha,{class:"my-0 pa-0 bg-transparent",items:I.value.sort((m,_)=>parseInt(m)-parseInt(_))},null,8,["items"])]),_:1}),n(F,{readonly:""},{default:C(()=>[$("總計金額： "),n(Z,{class:"text-h5 font-weight-bold bg-transparent"},{default:C(()=>[$(ae(H.value),1)]),_:1}),$(" 元 ")]),_:1}),n(U,{class:"w-40 mt-5",type:"submit",color:"green",loading:T(h)},{default:C(()=>[$("送出預約")]),_:1},8,["loading"])]),_:1},8,["onSubmit","disabled"])]),_:1})]),_:1})]),_:1}))}},Ra=Fe(_a,[["__scopeId","data-v-c9ab1900"]]);export{Ra as default};
