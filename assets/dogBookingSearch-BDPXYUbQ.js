import{T as v,R as x,C as c,o as u,W as p,w as e,a,P as C,a0 as d,aF as T,aD as B,c as S,b as w,F as D,aC as L,ag as N,a1 as A,aL as F}from"./index-BeUQFjP5.js";import{b as g}from"./route-block-B_A1xBdJ.js";import{a as f,V as k}from"./VRow-uWmG4DVT.js";import{r as I}from"./VDataTable-DRjJVpoy.js";import{V as P,a as U}from"./VList-DHIwkay0.js";import{V as R}from"./VContainer-CctDpTPI.js";import"./VPagination-CMQexviq.js";import"./VCheckboxBtn-DoIMKRBf.js";import"./VDivider-CEtPk7m6.js";const j=N("h1",null,"預約狗狗查詢",-1),E={__name:"dogBookingSearch",setup(W){const{apiAuth:_}=F(),V=v(),h=x(),y=c(h.account),s=c(""),r=c([]),b=[{align:"center",title:"編號",key:"_id"},{align:"center",title:"下單日期",key:"createdAt",value:l=>new Date(l.createdAt).toLocaleString()},{align:"center",title:"帳號名稱",key:"accountName"},{align:"center",title:"預約人",key:"name"},{align:"center",title:"電話",key:"phone"},{align:"center",title:"狗狗名字",key:"dogName"},{align:"center",title:"預約日期",key:"bookingDate"},{align:"center",title:"預約時段",key:"bookingTime"},{align:"center",title:"預約總金額",key:"totalPrice"}],m=async()=>{var l,n;try{const{data:t}=await _.get("/order",{params:{search:y.value}});r.value.splice(0,r.value.length,...t.result.data)}catch(t){console.log(t),V({text:((n=(l=t==null?void 0:t.response)==null?void 0:l.data)==null?void 0:n.message)||"發生錯誤",snackbarProps:{color:"red"}})}};return m(),(l,n)=>(u(),p(R,{fluid:""},{default:e(()=>[a(k,{class:"text-center"},{default:e(()=>[a(f,null,{default:e(()=>[j]),_:1})]),_:1}),a(k,{class:"text-center"},{default:e(()=>[a(f,null,{default:e(()=>[a(C,{color:"green",onClick:m},{default:e(()=>[d("查詢預約")]),_:1})]),_:1})]),_:1}),a(L,{class:"mt-8",flat:""},{text:e(()=>[a(T,{modelValue:s.value,"onUpdate:modelValue":n[0]||(n[0]=t=>s.value=t),label:"Search","prepend-inner-icon":"mdi-magnify",variant:"outlined","hide-details":"","single-line":""},null,8,["modelValue"])]),default:e(()=>[a(B,null,{default:e(()=>[d("查詢預約狗狗結果")]),_:1}),a(I,{headers:b,items:r.value,search:s.value},{"item.bookingTime":e(({value:t})=>[a(P,null,{default:e(()=>[(u(!0),S(D,null,w(t.join(" ").split(",").sort((o,i)=>parseInt(o)-parseInt(i)),(o,i)=>(u(),p(U,{key:i},{default:e(()=>[d(A(o),1)]),_:2},1024))),128))]),_:2},1024)]),_:2},1032,["items","search"])]),_:1})]),_:1}))}};typeof g=="function"&&g(E);export{E as default};
