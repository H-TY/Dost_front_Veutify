import{_ as y,b as C,a as F,u as B,i as I,o as U,j as D,w as t,e,a2 as M,f as a,a1 as N,a5 as m,V as j,a3 as l,k as q,c as P,av as R,aw as T,Z as _}from"./index-D3kux_Fn.js";import{c as $,a as p,u as z,f,V as A}from"./vee-validate.esm-CeLV511d.js";import{v as Z}from"./index-EYvx0Acd.js";import{V as b}from"./VCol-Bbx30JkQ.js";import{V as E}from"./VDivider-C3VS5dwT.js";import{V as G}from"./VRow-Dam3VMel.js";import{V as H}from"./VContainer-BAgjXYPB.js";const g=o=>(R("data-v-cfb082bd"),o=o(),T(),o),J=g(()=>_("h1",{class:"text-spacing1"},"登入",-1)),K=g(()=>_("h4",{class:"text-spacing2"},"與狗狗歡度快樂時刻",-1)),L={__name:"login",setup(o){const V=C(),x=F(),{mobile:v}=B(),i=I(),h=$({account:p().required("使用者帳號必填").min(4,"使用者帳號文字最少 4 個字").max(20,"使用者帳號文字最多 20 個字").test("驗證 account","使用者帳號格式錯誤",r=>Z.isAlphanumeric(r)),password:p().required("密碼必填").min(4,"使用者密碼最少 4 個字").max(20,"使用者密碼最多 20 個字")}),{handleSubmit:w,isSubmitting:d}=z({validationSchema:h}),n=f("account"),c=f("password"),S=w(async r=>{const s=await x.login(r);if(s==="登入成功")return i({text:s,snackbarProps:{color:"green"}}),V.push("/");i({text:s,snackbarProps:{color:"red"}})});return(r,s)=>{const k=P("router-link");return U(),D(H,{class:"mt-3 mb-7"},{default:t(()=>[e(G,null,{default:t(()=>[e(b,{class:"text-center",cols:"12"},{default:t(()=>[J,K]),_:1}),e(E,{class:"py-2"}),e(b,{class:"d-flex justify-center"},{default:t(()=>[e(A,{class:M(["text-center",a(v)?"w-50":"w-40"]),onSubmit:N(a(S),["prevent"]),disabled:a(d)},{default:t(()=>[e(m,{type:"account",label:"帳號",minlength:"4",maxlength:"20",counter:"",modelValue:a(n).value.value,"onUpdate:modelValue":s[0]||(s[0]=u=>a(n).value.value=u),"error-messages":a(n).errorMessage.value},null,8,["modelValue","error-messages"]),e(m,{type:"password",label:"密碼",minlength:"4",maxlength:"20",counter:"",modelValue:a(c).value.value,"onUpdate:modelValue":s[1]||(s[1]=u=>a(c).value.value=u),"error-messages":a(c).errorMessage.value},null,8,["modelValue","error-messages"]),e(j,{class:"bg-transparent text-body-2 mb-5"},{default:t(()=>[l(" 尚未加入會員？點擊 "),e(k,{class:"text-subtitle-1 font-weight-black text-decoration-none text-blue",to:{path:"/register"}},{default:t(()=>[l("註冊")]),_:1}),l(" 會員 ")]),_:1}),e(q,{class:"w-25",type:"submit",color:"green",loading:a(d)},{default:t(()=>[l("登入")]),_:1},8,["loading"])]),_:1},8,["class","onSubmit","disabled"])]),_:1})]),_:1})]),_:1})}}},se=y(L,[["__scopeId","data-v-cfb082bd"]]);export{se as default};
